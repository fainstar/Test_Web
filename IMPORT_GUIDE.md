# 題目導入指南

## 🆕 界面優化更新
- **顏色對比度**：修正所有白底白字問題，確保良好可讀性
- **深色模式**：完整支援系統深色模式
- **響應式設計**：優化移動設備和平板電腦體驗
- **無障礙設計**：符合WCAG 2.1 AA標準

## 支援的題目格式

系統支援多種JSON格式的題目導入：

### 格式 1：標準格式
```json
{
  "questions": [
    {
      "question": "Python是什麼類型的程式語言？",
      "type": "single",
      "options": [
        "編譯型語言",
        "解釋型語言", 
        "組合語言",
        "機器語言"
      ],
      "correct_answer": 1,
      "category": "程式設計",
      "difficulty": "簡單",
      "explanation": "Python是一種解釋型的高階程式語言。"
    }
  ]
}
```

### 格式 2：嵌套格式（如quiz_complete02.json）
```json
{
  "quiz": {
    "title": "測驗標題",
    "questions": [
      {
        "question": "題目內容",
        "type": "single_choice",
        "options": ["選項A", "選項B", "選項C"],
        "correct_answer": "選項B",
        "category": "分類"
      }
    ]
  }
}
```

### 格式 3：直接陣列
```json
[
  {
    "question": "題目內容",
    "type": "multiple",
    "options": ["選項1", "選項2", "選項3"],
    "correct_answer": [0, 2]
  }
]
```

## 欄位說明

### 必要欄位
- `question`: 題目內容（字串）
- `options`: 選項陣列（字串陣列，至少2個選項）
- `correct_answer`: 正確答案

### 可選欄位
- `type`: 題目類型
  - `"single"` 或 `"single_choice"`: 單選題
  - `"multiple"` 或 `"multiple_choice"`: 多選題
  - 預設為單選題
- `category`: 題目分類（預設為"一般"）
- `difficulty`: 難度等級（預設為"中等"）
- `explanation`: 題目解析（選填）

### 正確答案格式
1. **索引數字**：如 `1`（表示第2個選項，從0開始）
2. **選項文字**：如 `"解釋型語言"`（系統會自動查找對應索引）
3. **索引陣列**：如 `[0, 2]`（多選題，表示第1和第3個選項）
4. **文字陣列**：如 `["選項A", "選項C"]`（多選題）

## 導入方式

### 方式 1：Web界面導入
1. 前往管理面板：http://localhost:5000/admin
2. 點擊「導入題目」
3. 選擇文件或直接貼上JSON內容
4. 點擊「導入」

### 方式 2：檔案導入
1. 將JSON檔案放在 `base/` 目錄下
2. 運行：`python init_db.py`
3. 系統會自動掃描並導入所有支援格式的檔案

## 導入結果

導入完成後系統會顯示：
- ✅ **成功**: 成功導入的題目數量
- ⏭️ **跳過**: 重複題目數量（系統自動去重）
- ❌ **失敗**: 格式錯誤的題目數量

## 常見問題

### Q: 為什麼有些題目被跳過？
A: 系統使用SHA-256算法自動檢測重複題目，相同的題目只會保留一份。

### Q: 如何處理格式錯誤？
A: 檢查JSON語法是否正確，確保必要欄位完整，選項至少有2個。

### Q: 支援哪些檔案格式？
A: 目前支援 `.json` 格式，未來將支援 `.csv` 和 `.txt` 格式。

### Q: 介面顏色看不清楚怎麼辦？
A: 系統已修正所有顏色對比度問題：
- 所有代碼區域使用淺灰背景配深色文字
- 支援系統深色模式自動切換
- 符合WCAG 2.1 AA無障礙標準
- 如仍有問題，請檢查瀏覽器縮放設定

### Q: 支援哪些瀏覽器？
A: 支援所有現代瀏覽器：
- Chrome 80+
- Firefox 75+
- Safari 13+
- Edge 80+

### Q: 如何查看導入的題目？
A: 前往管理面板的「題目管理」查看所有已導入的題目。
