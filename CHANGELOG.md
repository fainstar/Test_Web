# 變更記錄 (CHANGELOG)

所有專案的重要變更都記錄在此文件中。

格式基於 [Keep a Changelog](https://keepachangelog.com/zh-TW/1.0.0/)，
並且此專案遵循 [語意化版本](https://semver.org/spec/v2.0.0.html)。

## [2.1.2] - 2025-06-22

### 📚 文檔完善更新
- **完整文檔審查**：全面檢查並更新所有文檔檔案
- **技術文檔優化**：更新 `README_TECHNICAL.md` 架構說明和技術細節
- **測試文檔完善**：補充 `test/README.md` 使用說明和故障排除
- **專案狀態同步**：確保文檔與實際程式碼狀態一致

### 🔧 系統維護
- **初始化腳本修復**：修正 `init_db.py` 語法錯誤和縮排問題
- **資料庫路徑確認**：檢查並驗證資料庫配置和連接狀態
- **跨平台相容性**：確保所有腳本在 Windows/Linux/Mac 正常運作

### ✅ 驗證完成
- 文檔結構完整性檢查
- 測試腳本可用性驗證
- 專案架構文檔同步
- 技術文檔準確性確認

## [2.1.1] - 2025-06-22

### 🐛 修復
- **API健康檢查**：修復 `/api/health` 端點的 AttributeError 錯誤
  - 在 `QuestionService` 中新增 `get_total_count()` 方法
  - 在 `QuestionService` 中新增 `get_current_time()` 方法
  - 解決 Docker 容器健康檢查失敗問題

### 📚 文檔更新
- 更新 `README_TECHNICAL.md` 新增修復記錄章節
- 更新 `DOCKER_GUIDE.md` 新增故障排除和健康檢查說明
- 新增 `BUGFIX_REPORT.md` 詳細錯誤修復報告
- 更新 `README.md` 版本資訊和最新狀態

### ✅ 驗證
- Docker 容器狀態：healthy
- 所有 API 端點回應正常 (200 狀態碼)
- Web 界面功能完整
- 健康檢查端點正常回應 JSON 格式資料

## [2.1.0] - 2024-06-21

### ✨ 新增功能
- 完整的 Docker 容器化支援
- 生產級別的 Nginx 反向代理配置
- 自動化部署腳本 (deploy.sh/deploy.bat)
- 健康檢查和監控功能

### 🎨 界面改進
- 修正顏色對比度問題
- 支援深色模式
- 無障礙設計優化
- 響應式設計改進

### 🏗️ 架構重構
- 從單一檔案架構重構為 MVC 分層設計
- 模組化服務層 (services/)
- 標準化路由處理 (routes/)
- 專業的資料模型 (models/)
- 統一的工具函數 (utils/)

### 📊 功能增強
- RESTful API 完整實作
- 進階隨機出題算法
- 詳細的統計分析功能
- 多格式題目導入支援
- 智能題目去重機制

### 🔒 安全性
- 輸入資料驗證強化
- CSRF 保護
- 安全的 session 管理
- SQL 注入防護

### 📦 部署改進
- Docker Compose 配置
- 環境變數管理
- 資料持久化設定
- 日誌管理系統

## [2.0.0] - 2024-06-20

### 🚀 重大重構
- **架構重新設計**：從單檔案應用重構為模組化 MVC 架構
- **檔案清理**：移除所有舊版本檔案，重新組織專案結構
- **代碼品質**：完全重寫，遵循最佳實踐和設計模式

### ✨ 核心功能
- 單選題和多選題支援
- SHA-256 題目去重算法
- 進階隨機抽題系統
- 測驗會話管理
- 成績統計與分析
- 管理後台界面

### 🎯 技術亮點
- SQLite 資料庫整合
- Flask 3.0.0 現代化架構
- 響應式 Web 設計
- RESTful API 設計
- 完整的錯誤處理

## [1.0.0] - 2024-06-15

### 🎉 初始版本
- 基礎測驗功能實作
- 簡單的題目管理
- 基本的 Web 界面
- SQLite 資料庫支援

---

## 版本格式說明

- **[主版本]** - 重大功能改變或架構重構
- **[次版本]** - 新功能新增或重要改進
- **[修訂版本]** - 錯誤修復或小幅改進

## 類型說明

- **🚀 重大重構** - 架構層級的重要變更
- **✨ 新增功能** - 新的功能或特性
- **🐛 修復** - 錯誤修復
- **🎨 界面改進** - UI/UX 相關改進
- **🏗️ 架構重構** - 代碼結構或架構調整
- **📊 功能增強** - 現有功能的改進
- **🔒 安全性** - 安全相關的改進
- **📦 部署改進** - 部署相關的改進
- **📚 文檔更新** - 文檔相關變更
- **✅ 驗證** - 測試或驗證相關
